{"version":3,"sources":["webpack:///./src/components/SignUp.vue?d75c","webpack:///src/components/SignUp.vue","webpack:///./src/components/SignUp.vue?147f","webpack:///./src/components/SignUp.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","ref","lazy","model","value","callback","$$v","valid","expression","emailRules","id","pswdRules","pswd","pswd_s","trim","validateRecaptcha","on","validate","signin","recapchavalidate","staticRenderFns","name","components","data","recapchatoken","s_self","methods","window","location","replace","response","username","password","headers","$vuetify","theme","dark","component","VApp","VBtn","VCard","VCardActions","VCardText","VCol","VContainer","VContent","VForm","VRow","VSpacer","VTextField","VToolbar","VToolbarTitle"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,YAAY,CAACF,EAAG,YAAY,CAACA,EAAG,cAAc,CAACG,YAAY,cAAcD,MAAM,CAAC,MAAQ,KAAK,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,SAAS,QAAU,WAAW,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,KAAO,KAAK,GAAK,IAAI,GAAK,MAAM,CAACF,EAAG,SAAS,CAACG,YAAY,gBAAgB,CAACH,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,UAAU,KAAO,GAAG,KAAO,KAAK,CAACF,EAAG,kBAAkB,CAACJ,EAAIQ,GAAG,0BAA0BJ,EAAG,aAAa,GAAGA,EAAG,cAAc,CAACA,EAAG,SAAS,CAACK,IAAI,OAAOH,MAAM,CAAC,kBAAkBN,EAAIU,MAAMC,MAAM,CAACC,MAAOZ,EAAS,MAAEa,SAAS,SAAUC,GAAMd,EAAIe,MAAMD,GAAKE,WAAW,UAAU,CAACZ,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIiB,WAAW,MAAQ,MAAM,KAAO,SAAS,eAAe,YAAY,SAAW,GAAG,KAAO,QAAQN,MAAM,CAACC,MAAOZ,EAAM,GAAEa,SAAS,SAAUC,GAAMd,EAAIkB,GAAGJ,GAAKE,WAAW,QAAQZ,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAImB,UAAU,GAAK,WAAW,MAAQ,OAAO,KAAO,WAAW,eAAe,WAAW,SAAW,GAAG,KAAO,YAAYR,MAAM,CAACC,MAAOZ,EAAQ,KAAEa,SAAS,SAAUC,GAAMd,EAAIoB,KAAKN,GAAKE,WAAW,UAAUZ,EAAG,eAAe,CAACE,MAAM,CAAC,GAAK,iBAAiB,MAAQ,OAAO,KAAO,YAAY,eAAe,OAAO,SAAW,GAAG,KAAO,YAAYK,MAAM,CAACC,MAAOZ,EAAU,OAAEa,SAAS,SAAUC,GAAMd,EAAIqB,OAAOP,GAAKE,WAAW,YAAYZ,EAAG,QAAQ,CAACE,MAAM,CAAC,UAAYN,EAAIe,QACh1Cf,EAAIkB,GAAGI,SACPtB,EAAIoB,OACJpB,EAAIqB,SACJpB,KAAKsB,kBAAkB,MAAQ,OAAOC,GAAG,CAAC,MAAQxB,EAAIyB,WAAW,CAACzB,EAAIQ,GAAG,SAASJ,EAAG,QAAQ,CAACG,YAAY,OAAOD,MAAM,CAAC,MAAQ,SAASkB,GAAG,CAAC,MAAQxB,EAAI0B,SAAS,CAAC1B,EAAIQ,GAAG,SAAS,GAAGJ,EAAG,YAAY,CAACG,YAAY,OAAOD,MAAM,CAAC,KAAO,OAAO,MAAQ,QAAQkB,GAAG,CAAC,SAAWxB,EAAI2B,qBAAqB,GAAGvB,EAAG,iBAAiB,CAACA,EAAG,aAAa,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IACzXwB,EAAkB,G,mECwEtB,GACEC,KAAM,SACNC,WAAY,CAAd,kBACEC,KAAM,KAAM,CACVC,cAAe,GACfT,mBAAmB,EACnBU,OAAQ,KACRvB,MAAM,EACNK,OAAO,EACPG,GAAI,GACJE,KAAM,GACNC,OAAQ,GACRJ,WAAY,CAChB,uBACA,sCAEIE,UAAW,CACf,yBACA,gCAGEe,QAAS,CACP,SACEC,OAAOC,SAASC,QAAQ,aAE1B,iBAAiBC,GACfrC,KAAK+B,cAAgBM,EACrBrC,KAAKsB,mBAAoB,GAE3BE,SAAU,WAAd,kCACA,wDACA,iBACA,uBACA,uBACA,UACA,SACA,UACA,gBACcc,SAAUtC,KAAKiB,GAAGI,OAClBkB,SAAUvC,KAAKmB,KACfY,cAAe/B,KAAK+B,gBAElC,CACcS,QAAS,CACP,eAAgB,oCAIhC,oCACA,SACA,eACA,iCAGA,qBAEA,wBACA,uCA5BA,qDAAc,IA+BZ,UACExC,KAAKgC,OAAShC,KACdA,KAAKc,OAAQ,EACbd,KAAKyC,SAASC,MAAMC,MAAO,IC5I4W,I,6LCOvYC,EAAY,eACd,EACA9C,EACA6B,GACA,EACA,KACA,KACA,MAIa,aAAAiB,EAAiB,QAkBhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,OAAA,KAAKC,aAAA,KAAWC,WAAA,KAASC,QAAA,KAAMC,OAAA,KAAKC,UAAA,KAAQC,aAAA,KAAWC,WAAA,KAASC,cAAA","file":"js/chunk-2d0d3124.13099095.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('v-content',[_c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\",\"sm\":\"8\"}},[_c('v-card',{staticClass:\"elevation-12\"},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"flat\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"創建 ThisIsToDoList 帳號\")]),_c('v-spacer')],1),_c('v-card-text',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":_vm.lazy},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"label\":\"新帳號\",\"name\":\"signup\",\"prepend-icon\":\"mdi-login\",\"required\":\"\",\"type\":\"text\"},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}}),_c('v-text-field',{attrs:{\"rules\":_vm.pswdRules,\"id\":\"password\",\"label\":\"建立密碼\",\"name\":\"password\",\"prepend-icon\":\"mdi-lock\",\"required\":\"\",\"type\":\"password\"},model:{value:(_vm.pswd),callback:function ($$v) {_vm.pswd=$$v},expression:\"pswd\"}}),_c('v-text-field',{attrs:{\"id\":\"password_again\",\"label\":\"確認密碼\",\"name\":\"password2\",\"prepend-icon\":\"mdi-\",\"required\":\"\",\"type\":\"password\"},model:{value:(_vm.pswd_s),callback:function ($$v) {_vm.pswd_s=$$v},expression:\"pswd_s\"}}),_c('v-btn',{attrs:{\"disabled\":!_vm.valid ||\n                      !_vm.id.trim() ||\n                      !_vm.pswd ||\n                      !_vm.pswd_s ||\n                      !this.validateRecaptcha,\"color\":\"red\"},on:{\"click\":_vm.validate}},[_vm._v(\"註冊 \")]),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"color\":\"amber\"},on:{\"click\":_vm.signin}},[_vm._v(\"登入\")])],1),_c('Recaptcha',{staticClass:\"my-2\",attrs:{\"size\":\"100%\",\"theme\":\"dark\"},on:{\"validate\":_vm.recapchavalidate}})],1),_c('v-card-actions',[_c('v-spacer')],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app id=\"inspire\">\n    <v-content>\n      <v-container class=\"fill-height\" fluid>\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"12\" md=\"4\" sm=\"8\">\n            <v-card class=\"elevation-12\">\n              <v-toolbar color=\"primary\" dark flat>\n                <v-toolbar-title>創建 ThisIsToDoList 帳號</v-toolbar-title>\n                <v-spacer />\n              </v-toolbar>\n              <v-card-text>\n                <v-form :lazy-validation=\"lazy\" ref=\"form\" v-model=\"valid\">\n                  <v-text-field\n                    :rules=\"emailRules\"\n                    label=\"新帳號\"\n                    name=\"signup\"\n                    prepend-icon=\"mdi-login\"\n                    required\n                    type=\"text\"\n                    v-model=\"id\"\n                  />\n\n                  <v-text-field\n                    :rules=\"pswdRules\"\n                    id=\"password\"\n                    label=\"建立密碼\"\n                    name=\"password\"\n                    prepend-icon=\"mdi-lock\"\n                    required\n                    type=\"password\"\n                    v-model=\"pswd\"\n                  />\n                  <v-text-field\n                    id=\"password_again\"\n                    label=\"確認密碼\"\n                    name=\"password2\"\n                    prepend-icon=\"mdi-\"\n                    required\n                    type=\"password\"\n                    v-model=\"pswd_s\"\n                  />\n                  <v-btn\n                    :disabled=\"\n                      !valid ||\n                        !id.trim() ||\n                        !pswd ||\n                        !pswd_s ||\n                        !this.validateRecaptcha\n                    \"\n                    @click=\"validate\"\n                    color=\"red\"\n                    >註冊\n                  </v-btn>\n                  <v-btn @click=\"signin\" class=\"mx-2\" color=\"amber\">登入</v-btn>\n                </v-form>\n                <Recaptcha\n                  @validate=\"recapchavalidate\"\n                  class=\"my-2\"\n                  size=\"100%\"\n                  theme=\"dark\"\n                />\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer />\n              </v-card-actions>\n            </v-card>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-content>\n  </v-app>\n</template>\n<script>\nimport axios from \"axios\";\nimport Recaptcha from \"@/components/Recaptcha\";\n\nexport default {\n  name: \"signup\",\n  components: { Recaptcha },\n  data: () => ({\n    recapchatoken: \"\",\n    validateRecaptcha: false,\n    s_self: null,\n    lazy: true,\n    valid: true,\n    id: \"\",\n    pswd: \"\",\n    pswd_s: \"\",\n    emailRules: [\n      v => !!v || \"請填入一組有效電子郵件!\",\n      v => /.+@.+\\..+/.test(v) || \"電子郵件格式不正確！\"\n    ],\n    pswdRules: [\n      v => !!v || \"請輸入一組8個字以上的密碼!\",\n      v => (v && v.length > 7) || \"密碼至少8個字元\"\n    ]\n  }),\n  methods: {\n    signin() {\n      window.location.replace(\"./signin\");\n    },\n    recapchavalidate(response) {\n      this.recapchatoken = response;\n      this.validateRecaptcha = true;\n    },\n    validate: async function() {\n      if (this.$refs.form.validate() && this.pswd === this.pswd_s) {\n        this.snackbar = true;\n        let sha256 = require(\"js-sha256\").sha256;\n        this.pswd = sha256(this.pswd);\n        try {\n          await axios.post(\n            \"/signup\",\n            JSON.stringify({\n              username: this.id.trim(),\n              password: this.pswd,\n              recapchatoken: this.recapchatoken\n            }),\n            {\n              headers: {\n                \"Content-Type\": \"application/json;charset=UTF-8\"\n              }\n            }\n          );\n          window.location.replace(\"./signin\");\n        } catch (e) {\n          console.log(e);\n          alert(\"伺服器通訊失敗或未通過機器人驗證！\");\n        }\n      } else {\n        alert(\"密碼或帳號驗證未通過！\");\n      }\n      this.$refs.form.reset();\n      window.location.replace(\"./signup\");\n    }\n  },\n  created() {\n    this.s_self = this;\n    this.valid = false;\n    this.$vuetify.theme.dark = true;\n  }\n};\n</script>\n\n<style />\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignUp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignUp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignUp.vue?vue&type=template&id=ec0adec2&\"\nimport script from \"./SignUp.vue?vue&type=script&lang=js&\"\nexport * from \"./SignUp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VApp,VBtn,VCard,VCardActions,VCardText,VCol,VContainer,VContent,VForm,VRow,VSpacer,VTextField,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}