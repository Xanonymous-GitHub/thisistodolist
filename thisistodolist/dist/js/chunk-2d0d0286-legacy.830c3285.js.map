{"version":3,"sources":["webpack:///./src/components/SignIn.vue?cb7f","webpack:///src/components/SignIn.vue","webpack:///./src/components/SignIn.vue?6420","webpack:///./src/components/SignIn.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","ref","lazy","model","value","callback","$$v","valid","expression","emailRules","id","pswdRules","pswd","trim","validateRecaptcha","on","validate","signup","recapchavalidate","staticRenderFns","name","components","data","recapchatoken","self","created","$vuetify","theme","dark","methods","response","window","location","replace","component","VApp","VBtn","VCard","VCardActions","VCardText","VCol","VContainer","VContent","VForm","VRow","VSpacer","VTextField","VToolbar","VToolbarTitle"],"mappings":"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","file":"js/chunk-2d0d0286-legacy.830c3285.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"id\":\"inspire\"}},[_c('v-content',[_c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\",\"sm\":\"8\"}},[_c('v-card',{staticClass:\"elevation-12\"},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"flat\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"登入 ThisIsToDoList\")]),_c('v-spacer')],1),_c('v-card-text',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":_vm.lazy},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"label\":\"帳號\",\"name\":\"login\",\"prepend-icon\":\"mdi-login\",\"required\":\"\",\"type\":\"text\"},model:{value:(_vm.id),callback:function ($$v) {_vm.id=$$v},expression:\"id\"}}),_c('v-text-field',{attrs:{\"rules\":_vm.pswdRules,\"id\":\"password\",\"label\":\"密碼\",\"name\":\"password\",\"prepend-icon\":\"mdi-lock\",\"required\":\"\",\"type\":\"password\"},model:{value:(_vm.pswd),callback:function ($$v) {_vm.pswd=$$v},expression:\"pswd\"}}),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"disabled\":!_vm.valid || !_vm.id.trim() || !_vm.pswd || !this.validateRecaptcha,\"color\":\"light-green accent-3\"},on:{\"click\":_vm.validate}},[_vm._v(\"登入 \")]),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"color\":\"amber\"},on:{\"click\":_vm.signup}},[_vm._v(\"註冊\")])],1),_c('Recaptcha',{staticClass:\"my-2\",on:{\"validate\":_vm.recapchavalidate}})],1),_c('v-card-actions',[_c('v-spacer')],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app id=\"inspire\">\n    <v-content>\n      <v-container class=\"fill-height\" fluid>\n        <v-row align=\"center\" justify=\"center\">\n          <v-col cols=\"12\" md=\"4\" sm=\"8\">\n            <v-card class=\"elevation-12\">\n              <v-toolbar color=\"primary\" dark flat>\n                <v-toolbar-title>登入 ThisIsToDoList</v-toolbar-title>\n                <v-spacer />\n              </v-toolbar>\n              <v-card-text>\n                <v-form :lazy-validation=\"lazy\" ref=\"form\" v-model=\"valid\">\n                  <v-text-field\n                    :rules=\"emailRules\"\n                    label=\"帳號\"\n                    name=\"login\"\n                    prepend-icon=\"mdi-login\"\n                    required\n                    type=\"text\"\n                    v-model=\"id\"\n                  />\n                  <v-text-field\n                    :rules=\"pswdRules\"\n                    id=\"password\"\n                    label=\"密碼\"\n                    name=\"password\"\n                    prepend-icon=\"mdi-lock\"\n                    required\n                    type=\"password\"\n                    v-model=\"pswd\"\n                  />\n                  <v-btn\n                    :disabled=\"\n                      !valid || !id.trim() || !pswd || !this.validateRecaptcha\n                    \"\n                    @click=\"validate\"\n                    class=\"mx-2\"\n                    color=\"light-green accent-3\"\n                    >登入\n                  </v-btn>\n                  <v-btn @click=\"signup\" class=\"mx-2\" color=\"amber\">註冊</v-btn>\n                </v-form>\n                <Recaptcha @validate=\"recapchavalidate\" class=\"my-2\" />\n              </v-card-text>\n              <v-card-actions>\n                <v-spacer />\n              </v-card-actions>\n            </v-card>\n          </v-col>\n        </v-row>\n      </v-container>\n    </v-content>\n  </v-app>\n</template>\n<script>\n  import axios from \"axios\";\n  import Recaptcha from \"@/components/Recaptcha\";\n\n  export default {\n  name: \"signin\",\n  components: { Recaptcha },\n  data: function() {\n    return {\n      recapchatoken: \"\",\n      validateRecaptcha: false,\n      valid: true,\n      lazy: true,\n      id: \"\",\n      pswd: \"\",\n      self,\n      emailRules: [\n        v => !!v || \"請填入有效電子郵件!\",\n        v => /.+@.+\\..+/.test(v) || \"電子郵件格式不正確！\"\n      ],\n      pswdRules: [v => !!v || \"請輸入密碼!\"]\n    };\n  },\n  created() {\n    this.valid = false;\n    this.$vuetify.theme.dark = true;\n  },\n  methods: {\n    recapchavalidate(response) {\n      this.recapchatoken = response;\n      this.validateRecaptcha = true;\n    },\n    signup() {\n      window.location.replace(\"./signup\");\n    },\n    async validate() {\n      if (this.$refs.form.validate()) {\n        let sha256 = require(\"js-sha256\").sha256;\n        this.pswd = sha256(this.pswd);\n        try {\n          await axios.post(\n            \"/signin\",\n            JSON.stringify({\n              username: this.id.trim(),\n              password: this.pswd,\n              recapchatoken: this.recapchatoken\n            }),\n            {\n              headers: {\n                \"Content-Type\": \"application/json;charset=UTF-8\"\n              }\n            }\n          );\n        } catch (e) {\n          console.log(e);\n          alert(\"帳號或密碼錯誤，或未通過機器人驗證！登入失敗！\");\n        }\n      } else {\n        alert(\"密碼或帳號驗證未通過！\");\n      }\n      this.$refs.form.reset();\n      window.location.replace(\"./\");\n    }\n  }\n};\n</script>\n\n<style />\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SignIn.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SignIn.vue?vue&type=template&id=70ee0d24&\"\nimport script from \"./SignIn.vue?vue&type=script&lang=js&\"\nexport * from \"./SignIn.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VApp,VBtn,VCard,VCardActions,VCardText,VCol,VContainer,VContent,VForm,VRow,VSpacer,VTextField,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}